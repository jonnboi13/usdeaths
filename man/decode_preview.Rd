% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/decode_preview.r
\name{decode_preview}
\alias{decode_preview}
\title{Preview decoded columns from a mortality dataset}
\usage{
decode_preview(
  data,
  meta,
  first_n = 5,
  numbers = NULL,
  n_rows = 1000,
  all = FALSE
)
}
\arguments{
\item{data}{A data frame of mortality records, typically loaded via
\code{read_fwf()} using a metadata table from this package.}

\item{meta}{A metadata tibble with at minimum columns \code{name} and
\code{codes}, such as \code{data_multiple_mortality_1969}.}

\item{first_n}{Integer. Number of coded columns to decode, starting from
the first column in \code{meta} that has codes. Default is \code{5}.}

\item{numbers}{Integer vector. Additional column indices from \code{meta}
to decode. Overlaps with \code{first_n} are silently deduplicated with
a warning. Columns with no codes are skipped with a warning.}

\item{n_rows}{Integer. Number of rows to return. Default is \code{1000}.
Use \code{nrow(data)} for a full decode.}

\item{all}{Logical. If \code{TRUE}, decodes all coded columns and returns
all columns in metadata order with decoded values replaced in place.
Overrides \code{first_n} and \code{numbers}. Default is \code{FALSE}.}
}
\value{
A tibble. When \code{all = FALSE}, returns only the selected
columns with each original column immediately followed by its decoded
\code{_label} counterpart. When \code{all = TRUE}, returns all columns
in metadata order with coded columns decoded in place.
}
\description{
Decodes coded columns in a mortality dataset using a metadata table,
returning original and decoded columns side by side for inspection.
Useful for quickly verifying that codes are mapping correctly before
committing to a full decode.
}
\examples{
\dontrun{
meta <- data_multiple_mortality_1969

# first 5 coded columns, 1000 rows
decode_preview(mort1969, meta)

# first 10 coded columns
decode_preview(mort1969, meta, first_n = 10)

# first 5 coded + column 17
decode_preview(mort1969, meta, numbers = 17)

# first 3 coded columns + columns 12 and 20 specifically
decode_preview(mort1969, meta, first_n = 3, numbers = c(12, 20))

# decode everything, replace in place
decode_preview(mort1969, meta, all = TRUE)

# full decode of entire dataset
mort1969_decoded <- decode_preview(mort1969, meta, all = TRUE, n_rows = nrow(mort1969))
}

}
